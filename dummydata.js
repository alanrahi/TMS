var database = [

{

	"user" : { "firstname" : "alan",
		     "lastname" : "rahi",
		     "username" : "alanrahi",
		     "location" : "portland",
		     "password" : {"salt" : 7 ,
						   "hash" : "oreughawg8w30wfu0w9fuf3"}

		    },
				  
	"tasks" : [			 	
									{ "date" : 04212014,
									  "hi" : 76,
  								  	  "low" : 48,
  								      "precip" : 3,	
									  "currentTaskModel" : {

										   "task1" : { "taskname" : "cigarettes",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "blunts",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
									},
								
									{ "date" : 04222014,
								      "hi" : 76,
								  	  "low" : 48,
								      "precip" : 3,	
								      "currentTaskModel" : {

										   "task1" : { "taskname" : "cigarettes",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "blunts",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
								},

									{ "date" : 04232014,
							          "hi" : 76,
							  	      "low" : 48,
							      	  "precip" : 3,	
							          "currentTaskModel" : {

										   "task1" : { "taskname" : "cigarettes",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "blunts",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
									}
			   ]					
},

{

	"user" : { "firstname" : "tal",
		       "lastname" : "",
		       "username" : "tal",
		       "location" : "portland",
		       "password" : {"salt" : 7 ,
						     "hash" : "oreughawg8w30wfu0w9fuf3"}

		    },
				  
	"tasks" : [			 	
									{ "date" : 04212014,
									  "hi" : 76,
  								  	  "low" : 48,
  								      "precip" : 3,	
									  "currentTaskModel" : {

										   "task1" : { "taskname" : "hug",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "bongrips",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
									},
								
									{ "date" : 04222014,
								      "hi" : 76,
								  	  "low" : 48,
								      "precip" : 3,	
								      "currentTaskModel" : {

										   "task1" : { "taskname" : "hug",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "bongrips",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
								},

									{ "date" : 04232014,
							          "hi" : 76,
							  	      "low" : 48,
							      	  "precip" : 3,	
							          "currentTaskModel" : {

										   "task1" : { "taskname" : "hug",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "bongrips",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
									}
			   ]					
},

{

	"user" : { "firstname" : "todd",
		       "lastname" : "redmond",
		       "username" : "tredmond",
		       "location" : "portland",
		       "password" : {"salt" : 7 ,
						   "hash" : "oreughawg8w30wfu0w9fuf3"}

		 },
				  

	"tasks" : [			 	
									{ "date" : 04212014,
									  "hi" : 76,
  								  	  "low" : 48,
  								      "precip" : 3,	
									  "currentTaskModel" : {

										   "task1" : { "taskname" : "something-that-noone-has-ever-done-before",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "bongrips",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
									},
									//second item in the array , aka index 1
									{ "date" : 04222014,
								      "hi" : 76,
								  	  "low" : 48,
								      "precip" : 3,	
								      "currentTaskModel" : {

										   "task1" : { "taskname" : "something-that-noone-has-ever-done-before",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "bongrips",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
								},

									{ "date" : 04232014,
							          "hi" : 76,
							  	      "low" : 48,
							      	  "precip" : 3,	
							          "currentTaskModel" : {

										   "task1" : { "taskname" : "something-that-noone-has-ever-done-before",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "bongrips",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
									}
			]					
},

{

	"user" : { "firstname" : "danniel",
		       "lastname" : "rolfe",
		       "username" : "drolfe",
		       "location" : "portland",
		       "password" : {"salt" : 7 ,
						   "hash" : "oreughawg8w30wfu0w9fuf3"}

		 },
				  

	"tasks" : [			 	
									{ "date" : 04212014,
									  "hi" : 76,
  								  	  "low" : 48,
  								      "precip" : 3,	
									  "currentTaskModel" : {

										   "task1" : { "taskname" : "smiles",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "kittens-saved",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
									},
									//second item in the array , aka index 1
									{ "date" : 04222014,
								      "hi" : 76,
								  	  "low" : 48,
								      "precip" : 3,	
								      "currentTaskModel" : {

										   "task1" : { "taskname" : "smiles",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "kittens-saved",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
								},

									{ "date" : 04232014,
							          "hi" : 76,
							  	      "low" : 48,
							      	  "precip" : 3,	
							          "currentTaskModel" : {

										   "task1" : { "taskname" : "smiles",
										   				"instances" : 4,
										   				"duration" : 5
													  },

										   "task2" : { "taskname" : "kittens-saved",
										   				"instances" : 4,
										   				"duration" : 10
													  },

										   "task3" : { "taskname" : "martinis",
										   				"instances" : 5,
										   				"duration" : 10
													 }	
																					}
									}
			]					
}
]




								    
								

												  			    		  	    

/*values associated with a user: firstname, lastname, username,
password, location */

/* values associated with a task: 
*/

/* values associated with a day: hi, low, precipitation

*/





	

var db = {
	// fake a get request:
	get: function(collection, username) {
		var result = database[username],
			promise = {},
			ok = result || false;
		promise.then = function(cb) {
			if (ok)
				cb({body:result});
			return promise;
		};
		promise.fail = function(cb) {
			if (!ok)
				cb("doh!");
			return promise;
		};
		return promise;
	},
	// fake a put request:
	put: function(collection, username, user) {
		database[username] = user;
		var promise = {},
			ok = true; //always ok
		promise.then = function(cb) {
			if (ok)
				cb("ok");
			return promise;
		};
		promise.fail = function(cb) {
			if (!ok)
				cb("doh!")
			return promise;
		};
		return promise;
	},
	// for debugging only:
	list: function() {
		console.log(database);
	}
}

module.exports = db;

	

























